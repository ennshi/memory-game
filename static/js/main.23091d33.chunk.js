(this["webpackJsonpmemory-cards"]=this["webpackJsonpmemory-cards"]||[]).push([[0],{161:function(e,t,a){},199:function(e,t,a){},200:function(e,t,a){},201:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(41),i=a.n(o),c=a(5),s=a(6),l=a(87),m=a(8),u=a(9),p=a(11),d=a(10),h=a(205),f=a(60),b=a.n(f),v=a(88),C="EXIT",O=function(){return{type:C}},E=function(){return{type:"SHOW_CHAMPLIST"}},j=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"navbar"},r.a.createElement("h1",{onClick:this.props.exitCurrentGame},"MEMORY_GAME"),r.a.createElement("button",{onClick:this.props.onClick,className:"yellow-btn",disabled:!(this.props.allowCookieFromBoard||this.props.allowCookieFromForm)},r.a.createElement("i",{className:"fas fa-trophy"})))}}]),a}(r.a.Component),k=Object(c.b)((function(e){return{allowCookieFromForm:Object(h.a)("SettingsForm")(e,"allowCookie"),allowCookieFromBoard:e.board.allowCookie}}),{exitCurrentGame:O})(j),y=(a(161),{animals:"animals",landmarks:"landmarks",leaves:"leaves",waincats:"waincats"}),w={5:"5 suits",10:"10 suits",15:"15 suits"},g={20:"20 cards",30:"30 cards"},I=a(203),N=a(202),A=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).renderSelectOptions=function(e){var t=[];for(var a in e)t.push(r.a.createElement("option",{key:a,value:a},e[a]));return t},e.onSubmit=function(t){e.props.initializeBoard(t)},e}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("form",{className:"form",onSubmit:this.props.handleSubmit(this.onSubmit)},r.a.createElement("h1",{className:"form-header"},"Hello"),r.a.createElement(I.a,{className:"form-field",name:"username",component:"input",maxLength:"13"}),r.a.createElement("h2",{className:"form-header"},"Board"),r.a.createElement(I.a,{className:"form-field",name:"cards",component:"select"},this.renderSelectOptions(g)),r.a.createElement(I.a,{className:"form-field",name:"suits",component:"select"},this.renderSelectOptions(w)),r.a.createElement(I.a,{className:"form-field",name:"theme",component:"select"},this.renderSelectOptions(y)),r.a.createElement("div",{className:"checkbox-field"},r.a.createElement(I.a,{type:"checkbox",component:"input",name:"allowCookie",id:"allowCookie"}),r.a.createElement("label",{htmlFor:"allowCookie"},"Allow MEMORY_GAME to save and read cookie data")),r.a.createElement("button",{type:"submit",className:"submit-btn"},r.a.createElement("i",{className:"fas fa-play"})))}}]),a}(r.a.Component),x=Object(N.a)({form:"SettingsForm",enableReinitialize:!0})(A),L=Object(c.b)((function(e){return{initialValues:e.board}}),{initializeBoard:function(e){return{type:"INITIALIZE_BOARD",payload:e}}})(x),T=a(85),S=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onClick=function(){e.props.onClick(e.props.id)},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props.board[this.props.id],t=T({"card-inner":!e.matched,clicked:e.opened,"not-clicked":!e.opened,matched:e.matched});return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:t,onClick:e.matched?null:this.onClick},r.a.createElement("div",{className:e.matched?"card-front matched":"card-front"}),r.a.createElement("div",{className:"card-back"},r.a.createElement(D,{theme:this.props.theme,suit:e.suit}))))}}]),a}(r.a.Component),D=function(e){return r.a.createElement("img",{src:"/img/".concat(e.theme,"/").concat(e.suit,".png"),alt:"".concat(e.theme," ").concat(e.suit)})},G=Object(c.b)((function(e,t){return{board:e.board.board,id:t.id,theme:e.board.theme,onClick:t.onCardClick}}))(S),M=a(85),F=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).timerInterval=null,e.onPause=function(){e.props.active?e.unsetTimerInterval():e.setTimerInterval()},e.unsetTimerInterval=function(){e.props.stopTimer(),clearInterval(e.timerInterval),e.timerInterval=null},e.setTimerInterval=function(){e.timerInterval||(e.timerInterval=setInterval((function(){e.props.updateTimer()}),1e3))},e}return Object(u.a)(a,[{key:"render",value:function(){var e=M({"yellow-btn":!0,pause:!this.props.active});return r.a.createElement("div",{className:"timer"},r.a.createElement("h4",{className:"clock"},this.props.timer),r.a.createElement("div",{className:"btn-set"},r.a.createElement("button",{onClick:this.onPause,className:e},r.a.createElement("i",{className:"fas fa-pause"})),r.a.createElement("button",{onClick:this.props.onExit,className:"yellow-btn",style:{fontSize:"1.8rem"}},r.a.createElement("i",{className:"fas fa-times"}))))}},{key:"componentDidUpdate",value:function(e){this.props.endGame&&this.unsetTimerInterval(),this.props.active&&!e.active&&this.setTimerInterval()}},{key:"componentWillUnmount",value:function(){this.unsetTimerInterval()}}]),a}(r.a.Component),_=Object(c.b)((function(e,t){return{timer:e.timer.timer,active:e.timer.timerActivated,onExit:t.onExit,endGame:e.board.endGame}}),{stopTimer:function(){return{type:"STOP_TIMER"}},updateTimer:function(){return{type:"UPDATE_TIMER"}}})(F),R=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onCardClick=function(t){e.props.openedCards.length<2&&e.props.flipCard(t)},e.onExit=function(){e.props.exitCurrentGame()},e.checkMatch=function(t,a,n){if(n[t].suit===n[a].suit)return e.props.matchedCards(t,a);setTimeout((function(){e.props.flipCard(t),e.props.flipCard(a)}),700)},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this,t=this.props.board.map((function(t,a){return r.a.createElement(G,{id:a,key:a,onCardClick:e.onCardClick})}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(_,{onExit:this.onExit}),r.a.createElement("div",{className:"board"},t))}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.openedCards,a=e.board;2===t.length&&this.checkMatch(t[0],t[1],a)}}]),a}(r.a.Component),P=Object(c.b)((function(e){return{board:e.board.board,openedCards:e.board.idxOpened}}),{flipCard:function(e){return{type:"FLIP_CARD",payload:e}},matchedCards:function(e,t){return function(){var a=Object(v.a)(b.a.mark((function a(n){return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,setTimeout((function(){n({type:"MATCHED_CARDS",payload:{idx1:e,idx2:t}})}),600);case 2:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},exitCurrentGame:O})(R),B=(a(199),function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).renderSelectOptions=function(e){var t=[];for(var a in e)t.push(r.a.createElement("option",{key:a,value:a},e[a]));return t},e}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("form",null,r.a.createElement(I.a,{className:"form-field-small",name:"cards",component:"select"},this.renderSelectOptions(g)),r.a.createElement(I.a,{className:"form-field-small",name:"suits",component:"select"},this.renderSelectOptions(w)))}}]),a}(r.a.Component)),U=Object(N.a)({form:"ChampionsForm",enableReinitialize:!0})(B),X=Object(c.b)((function(e){return{initialValues:{cards:e.board.cards,suits:e.board.suits}}}))(U),H=a(14),z=function(e,t){var a=J();return a.hasOwnProperty([e+"X"+t])?a[e+"X"+t]:[]},J=function(){var e={},t=document.cookie.split(";");return t[0]&&(e=JSON.parse(unescape(t[0]))),e},V=function(){var e=Date.now();return new Date(e+864e5).toUTCString()},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=0===Object.keys(e).length?new Date(2010,1,10).toUTCString():V();document.cookie=escape(JSON.stringify(e))+";expires="+t},Y=function(e){var t,a=e.cards,n=e.suits,r=J(),o={};r?(Object.assign(o,r),o.hasOwnProperty([a+"X"+n])?(o[a+"X"+n].push(e),o[a+"X"+n]=(t=o[a+"X"+n],Object(H.a)(t).sort((function(e,t){return e.timer-t.timer})).slice(0,4))):o[a+"X"+n]=[e]):o[a+"X"+n]=[e],W(o)},Z=function(){W()},K=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={champions:[]},e.getChampionsFromCookies=function(){var t=e.props,a=t.cardsChampionList,n=t.suitsChampionList;e.setState({champions:z(a,n)})},e.renderChampions=function(){return e.state.champions.map((function(e,t){return r.a.createElement("div",{key:t,className:"champion"},r.a.createElement("span",null,t+1+". "),r.a.createElement("span",null,e.username),r.a.createElement("span",null,e.timer))}))},e.onExit=function(){e.props.boardIsInit?e.props.toggleChampionList():e.props.exitCurrentGame()},e.onClearClick=function(){Z(),e.onExit()},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.getChampionsFromCookies()}},{key:"componentDidUpdate",value:function(e){e.cardsChampionList===this.props.cardsChampionList&&e.suitsChampionList===this.props.suitsChampionList||this.getChampionsFromCookies()}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"champion-header-container"},r.a.createElement("h1",null,"Best Score"),r.a.createElement("button",{onClick:this.onExit,className:"yellow-btn",style:{fontSize:"1.8rem"}},r.a.createElement("i",{className:"fas fa-times"}))),r.a.createElement("div",{className:"champion-list-wrapper"},r.a.createElement(X,null),this.renderChampions(),r.a.createElement("button",{className:"btn",onClick:this.onClearClick,disabled:0===this.state.champions.length},"Clear")))}}]),a}(r.a.Component),q=Object(c.b)((function(e){var t=Object(h.a)("ChampionsForm");return{cardsChampionList:t(e,"cards"),suitsChampionList:t(e,"suits"),boardIsInit:e.board.isInit}}),{exitCurrentGame:O,toggleChampionList:E})(K),Q=(a(200),function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onClick=function(){e.props.exitCurrentGame(),e.props.allowCookie&&e.props.toggleChampionList()},e}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"your-score-wrapper"},r.a.createElement("h1",null,"Your score"),r.a.createElement("p",null,this.props.timer),r.a.createElement("button",{className:"btn",onClick:this.onClick},"OK"))}}]),a}(r.a.Component)),$=Object(c.b)((function(e){return{timer:e.timer.timer,allowCookie:e.board.allowCookie}}),{toggleChampionList:E,exitCurrentGame:O})(Q),ee=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).mainViewRender=function(){return e.props.showChampionList?r.a.createElement(q,null):e.props.boardIsInit?r.a.createElement(P,null):e.props.endGame?r.a.createElement($,null):r.a.createElement(L,null)},e.endGame=function(){if(e.props.gameEnded(),e.props.allowCookie){var t=e.createNewChampion();Y(t)}},e.createNewChampion=function(){var t=e.props;return{cards:t.cards,suits:t.suits,username:t.username,timer:t.timer}},e}return Object(u.a)(a,[{key:"componentDidUpdate",value:function(){this.props.endGame||this.props.cardsLeft.length||!this.props.boardIsInit||this.endGame()}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(k,{onClick:this.props.toggleChampionList}),this.mainViewRender())}}]),a}(r.a.Component),te=Object(c.b)((function(e){return{boardIsInit:e.board.isInit,showChampionList:e.champions.showChampionList,cardsLeft:e.board.board.filter((function(e){return!e.matched})),cards:e.board.cards,suits:e.board.suits,username:e.board.username,timer:e.timer.timer,endGame:e.board.endGame,allowCookie:e.board.allowCookie}}),{toggleChampionList:E,gameEnded:function(){return{type:"GAME_ENDED"}}})(ee),ae=a(204),ne=a(7),re={username:"username_",isInit:!1,idxOpened:[],board:[],cards:20,suits:5,theme:"animals",endGame:!1},oe=function(e,t){for(var a=[],n=0,r=e/2;r>0;){var o={opened:!1,matched:!1};n>=t&&(n=0),o.suit=n,n++,a.push(o,Object.assign({},o)),r--}return function(e){var t=Object(H.a)(e);return t.sort((function(){return Math.random()-.5})),t.sort((function(){return Math.random()-.5})),t.sort((function(){return Math.random()-.5})),t}(a)},ie=function(e,t){var a=Object(H.a)(e);return a[t].opened=!e[t].opened,a},ce=function(e,t){return e.includes(t)?e.filter((function(e){return e!==t})):[].concat(Object(H.a)(e),[t])},se=function(e,t){var a=t.idx1,n=t.idx2,r=Object(H.a)(e);return r[a].matched=r[n].matched=!0,r[a].opened=r[n].opened=!1,r},le={timerActivated:!1,timer:0},me={showChampionList:!1},ue=Object(s.c)({board:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALIZE_BOARD":return Object(ne.a)(Object(ne.a)(Object(ne.a)({},e),t.payload),{},{board:oe(t.payload.cards,t.payload.suits),isInit:!0});case"FLIP_CARD":return Object(ne.a)(Object(ne.a)({},e),{},{board:ie(e.board,t.payload),idxOpened:ce(e.idxOpened,t.payload)});case"MATCHED_CARDS":return Object(ne.a)(Object(ne.a)({},e),{},{board:se(e.board,t.payload),idxOpened:[]});case"GAME_ENDED":return Object(ne.a)(Object(ne.a)({},e),{},{isInit:!1,endGame:!0});case C:return re;default:return e}},timer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FLIP_CARD":return Object(ne.a)(Object(ne.a)({},e),{},{timerActivated:!0});case"STOP_TIMER":return Object(ne.a)(Object(ne.a)({},e),{},{timerActivated:!1});case"UPDATE_TIMER":return Object(ne.a)(Object(ne.a)({},e),{},{timerActivated:!0,timer:e.timer+1});case C:return le;default:return e}},champions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_CHAMPLIST":return Object(ne.a)(Object(ne.a)({},e),{},{showChampionList:!e.showChampionList});case C:return me;default:return e}},form:ae.a}),pe=a(91),de=Object(s.d)(ue,Object(s.a)(l.a,pe.a));i.a.render(r.a.createElement(c.a,{store:de},r.a.createElement(te,null)),document.getElementById("root"))},92:function(e,t,a){e.exports=a(201)}},[[92,1,2]]]);
//# sourceMappingURL=main.23091d33.chunk.js.map